<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>404 | Dino Terminal</title>
<style>
body {
    margin:0;
    background:#111;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    font-family:monospace;
    color:#eee;
}

.mac-terminal {
    width:720px;
    background:#1e1e1e;
    border-radius:12px;
    box-shadow:0 30px 60px rgba(0,0,0,.6);
}

.terminal-header {
    height:34px;
    background:#333;
    border-radius:12px 12px 0 0;
    display:flex;
    align-items:center;
    padding:0 12px;
}

.btn {width:12px;height:12px;border-radius:50%;margin-right:6px;}
.close{background:#ff5f56}
.min{background:#ffbd2e}
.max{background:#27c93f}

.terminal-content {
    padding:20px;
}

canvas {
    background:#000;
    width:100%;
    height:200px;
}
</style>
</head>
<body>

<div class="mac-terminal">
    <div class="terminal-header">
        <div class="btn close"></div>
        <div class="btn min"></div>
        <div class="btn max"></div>
    </div>
    <div class="terminal-content">
        <canvas id="game"></canvas>
    </div>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
canvas.width = 680;
canvas.height = 200;

let gameSpeed = 6;
let gravity = 0.6;
let score = 0;
let running = false;

const dino = {
    x:50,
    y:150,
    w:40,
    h:44,
    vy:0,
    jumping:false,
    frame:0
};

const ground = { x:0 };

let obstacles = [];

function drawDino() {
    ctx.fillStyle="#fff";
    ctx.fillRect(dino.x,dino.y,dino.w,dino.h);
    // 다리 애니메이션 느낌
    ctx.clearRect(dino.x+5,dino.y+30,10,10);
    if(dino.frame%20<10){
        ctx.clearRect(dino.x+25,dino.y+30,10,10);
    }
}

function spawnObstacle() {
    if(Math.random()<0.02){
        obstacles.push({
            x:canvas.width,
            y:150,
            w:20,
            h:40
        });
    }
}

function drawGround() {
    ctx.strokeStyle="#444";
    ctx.beginPath();
    ctx.moveTo(0,190);
    ctx.lineTo(canvas.width,190);
    ctx.stroke();
}

function update() {
    ctx.clearRect(0,0,canvas.width,canvas.height);

    drawGround();

    dino.vy += gravity;
    dino.y += dino.vy;

    if(dino.y>=150){
        dino.y=150;
        dino.jumping=false;
    }

    drawDino();
    dino.frame++;

    spawnObstacle();

    obstacles.forEach((o,i)=>{
        o.x-=gameSpeed;
        ctx.fillStyle="#fff";
        ctx.fillRect(o.x,o.y,o.w,o.h);

        if(
            dino.x < o.x+o.w &&
            dino.x+dino.w > o.x &&
            dino.y < o.y+o.h &&
            dino.y+dino.h > o.y
        ){
            running=false;
            ctx.fillText("GAME OVER",280,100);
        }

        if(o.x+o.w<0){
            obstacles.splice(i,1);
            score++;
        }
    });

    if(running) requestAnimationFrame(update);
}

window.addEventListener("keydown",()=>{
    if(!running){
        running=true;
        obstacles=[];
        update();
    }else if(!dino.jumping){
        dino.vy=-12;
        dino.jumping=true;
    }
});
</script>

</body>
</html>
